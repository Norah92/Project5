<html>

<head>

<title>Neighborhood Map Project</title>

<style type="text/css">
     html, body { height: 100%; margin: 0; padding: 0; }
     #map { height: 100%; }
	  #panel {
        position: absolute;
        top: 0px;
        left: 0px;
        z-index: 5;
        height:100%;
		    width: 250px;
        background-color: white;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
 </style>
 
</head>

<body>

<span id="panel"> 
       <p><strong> Places in My Favourite Neighborhood </strong></p>
	   <select data-bind="options: categories, value: filter"></select>
	   <ul data-bind="foreach: filteredItems"> 
       <li data-bind="text: title"></li>
       </ul> 
	  
</span>
<div id ="map"></div>
<script>

var map;
var markers =[];
var locations;

function initMap() { 
map = new google.maps.Map(document.getElementById('map') , {
	   center: {lat:40.9910381, lng:28.6498144}, 
	   zoom: 14});
	   
	   var largeInfoWindow = new google.maps.InfoWindow();
	   var bounds = new google.maps.LatLngBounds();
	   
	   for (var i = 0; i <locations.length; i++) {
	     var position = locations[i].location;
		 var title = locations[i].title;
		 var marker = new google.maps.Marker({
		   map:map,
		   position:position,
		   title:title,
		   animation: google.maps.Animation.Drop,
		   id: i 
		 });
		 
		 markers.push(marker);
		 bounds.extend(marker.position);
		 marker.addListener('click',function() {
		 populateInfoWindow(this, largeInfoWindow );
		 });
	   }
	   
	   function populateInfoWindow(marker, infowindow) {
	   
	     if(infowindow.marker != marker) {
		     infowindow.marker = marker;
			 infowindow.setContent('<div>' +marker.title +  '</div>');
			 infowindow.open(map, marker);
			 infowindow.addListener('closeclick', function() {
			 //infowindow.setMarker(null);
			   });
		 }
	   } 
	   
	   map.fitBounds(bounds);	
	        
	   
}

</script> 

<script async defer src="http://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDD7dWlaYOIw597PN_969tiAEKSBP9uVJc&v=3&callback=initMap"></script>
<script src='js/knockout-3.4.2.js'></script> 
<script src="js/jquery-3.2.1.js"></script> 
<script src='js/app.js'></script> 

</body>

</html>
